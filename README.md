# 6 и 7 лаба

Часть 1
Программу, разработанную в лабораторной работе No 6, преобразовать
следующим образом: для обеспечения движения геометрических фигур в окне
вместо таймера использовать потоки. Для каждой геометрической фигуры
использовать свой поток. Потоковая функция должна быть одна, объект
«Фигура» передается в потоковую функцию через параметр (для передачи
дополнительных данных в потоковую функцию в качестве параметра можно
задать указатель на структуру). При необходимости использовать
синхронизацию.
Часть 2
Необходимо обеспечить синхронизацию двух приложений.
Первое приложение. Приложение с потоками преобразовать так, чтобы
движение фигур в потоках начиналось не сразу, а после получения сигнала от
второго приложения. При получения сигнала потоки начинают работать до тех
пор, пока от второго приложения не придет другой сигнал, при получении
второго сигнала потоки завершают свою работу.
Второе приложение – консольное приложение Windows (запускается
только при запущенном первом приложении). После нажатия клавиши
посылается сигнал для начала работы потоков в первом приложении. После
следующего нажатия клавиши посылается сигнал на завершение работы потоков
в первом приложении.
Продемонстрировать совместную работу двух приложений.

видео
https://1drv.ms/v/s!AgLRl5i9yERW3S2rr7cJLjUvyWOp?e=LaYptC

Алгоритм шагов:
1. Подключить необходимые заголовочные файлы.
2. Создать переменную типа HANDLE для хранения дескриптора события.
3. Установить локаль в кириллическую с помощью функции setlocale.
4. Открыть событие с помощью функции OpenEvent, указав EVENT_ALL_ACCESS для доступа на запись и чтение, TRUE для автосброса события и строку L"MyEventl" в качестве имени события.
5. Проверить успешность открытия события, если не удалось, вывести сообщение об ошибке, завершить выполнение программы и вернуть 0.
6. Вывести сообщение о необходимости нажатия любой клавиши для запуска потоков в другом приложении.
7. Дождаться нажатия клавиши с помощью функции _getch.
8. Установить событие в сигнальное состояние с помощью функции SetEvent для запуска потоков в другом приложении.
9. Вывести сообщение о необходимости нажатия любой клавиши для завершения потоков в другом приложении.
10. Дождаться нажатия клавиши с помощью функции _getch.
11. Сбросить событие в несигнальное состояние с помощью функции ResetEvent для завершения потоков в другом приложении.
12. Вывести сообщение о необходимости нажатия любой клавиши для выхода из приложения.
13. Дождаться нажатия клавиши с помощью функции _getch.
14. Завершить работу программы и вернуть 0.
